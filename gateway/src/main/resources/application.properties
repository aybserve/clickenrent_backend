spring.application.name=gateway

# Server Configuration
server.port=8080

# Eureka Client Configuration
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true

# Gateway Configuration
spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# JWT Configuration (must match auth-service)
jwt.secret=${JWT_SECRET:Y2xpY2tlbnJlbnQtc2VjcmV0LWtleS1jaGFuZ2UtaW4tcHJvZHVjdGlvbi0yNTYtYml0}

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,gateway
management.endpoint.health.show-details=always
management.endpoint.gateway.enabled=true

# Logging
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.clickenrent.gateway=DEBUG

# SpringDoc/Swagger Configuration
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.config-url=/v3/api-docs/swagger-config
springdoc.swagger-ui.urls[0].name=auth-service
springdoc.swagger-ui.urls[0].url=/auth-service/v3/api-docs
springdoc.swagger-ui.urls[1].name=rental-service
springdoc.swagger-ui.urls[1].url=/rental-service/v3/api-docs
springdoc.swagger-ui.urls[2].name=payment-service
springdoc.swagger-ui.urls[2].url=/payment-service/v3/api-docs
springdoc.swagger-ui.urls[3].name=support-service
springdoc.swagger-ui.urls[3].url=/support-service/v3/api-docs
springdoc.swagger-ui.urls[4].name=notification-service
springdoc.swagger-ui.urls[4].url=/notification-service/v3/api-docs
springdoc.swagger-ui.disable-swagger-default-url=true

# Gateway route filtering (disable for Swagger paths)
spring.cloud.gateway.discovery.locator.filters[0]=PreserveHostHeader
